<launch>
  <!-- starting up simulated pr2 in stopped state -->
  <include file="$(find loopback_controller_manager_examples)/launch/pr2_loopback_no_controllers.launch"/>

  <!-- write desired start configuration on parameter server -->
  <rosparam command="load"
       file="$(find pr2_pouring_experiments)/config/pr2_flipping_sim_start_config.yaml"
       ns="loopback_controllers"/> 

  <!-- table visualization -->
  <node name="table_transform" pkg="tf" type="static_transform_publisher"
      args="0.534 0.0 0.0  0 0 0 /base_link /table 20"/>
  <node name="table_model" pkg="pr2_pouring_experiments" type="table_model.py"
      args="/table"/>

  <!-- oven visualization -->
  <node name="oven_transform" pkg="tf" type="static_transform_publisher"
      args="-0.1 0.0 0.703  0 0 0 /table /oven 20"/>
  <node name="oven_model" pkg="pr2_pouring_experiments" type="oven_model.py"
      args="/oven"/>

  <!-- pancake visualization -->
  <node name="pancake_transform" pkg="tf" type="static_transform_publisher"
      args="0.0 0.0 0.05  0 0 0 /oven /pancake 20"/>
  <node name="pancake_model" pkg="pr2_pouring_experiments"
      type="pancake_model.py" args="/pancake"/>

  <!-- left spatula visualization -->
  <node name="l_spatula_handle_transform" pkg="tf"
      type="static_transform_publisher"
      args="-0.03 0.0 0.0 0 0 0 /l_gripper_tool_frame /l_spatula_handle 100"/>
  <node name="l_spatula_blade_transform" pkg="tf"
      type="static_transform_publisher"
      args="0.245 0.0 -0.015 0 2.1 0 /l_spatula_handle /l_spatula_blade 100"/>
  <node name="l_spatula_model" pkg="pr2_pouring_experiments"
      type="spatula_model_bremen_1.py" args="/l_spatula_blade"/>

  <!-- right spatula visualization -->
  <node name="r_spatula_handle_transform" pkg="tf"
      type="static_transform_publisher"
      args="-0.03 0.0 0.0 0 0 0 /r_gripper_tool_frame /r_spatula_handle 100"/>
  <node name="r_spatula_blade_transform" pkg="tf"
      type="static_transform_publisher"
      args="0.245 0.0 -0.015 0 2.1 0 /r_spatula_handle /r_spatula_blade 100"/>
  <node name="r_spatula_model" pkg="pr2_pouring_experiments"
      type="spatula_model_bremen_1.py" args="/r_spatula_blade"/>

  <!-- feature visualization -->
  <node name="feature_visualization" pkg="fccl_visualization"
       type="feature_visualization.py"/>

  <!-- fake localization -->
  <node name="map_transform" pkg="tf" type="static_transform_publisher"
      args="0.0 0.0 0.0 0 0 0 /base_link /map 20"/>
</launch>
